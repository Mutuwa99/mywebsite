<!DOCTYPE html>
<html>
<head>
  <title>ChatGPT Interface</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <div id="chat-container">
    <div id="chat-log">
      <?php
      if ($_SERVER['REQUEST_METHOD'] === 'POST') {
        $message = $_POST['message'];

        // Display user message in the chat log
        echo '<div class="user">' . $message . '</div>';

        // Make API call to ChatGPT
        $apiKey = 'YOUR_API_KEY';  // Replace with your actual API key
        $url = 'https://api.openai.com/v1/chat/completions';
        $headers = array(
          'Content-Type: application/json',
          'Authorization: Bearer ' . $apiKey
        );

        $data = array(
          'messages' => array(
            array('role' => 'system', 'content' => 'You are a helpful assistant.'),
            array('role' => 'user', 'content' => $message)
          )
        );

        $ch = curl_init($url);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

        $response = curl_exec($ch);
        curl_close($ch);

        $result = json_decode($response, true);

        // Get the model's reply
        $reply = $result['choices'][0]['message']['content'];

        // Display model reply in the chat log
        echo '<div class="model">' . $reply . '</div>';
      }
      ?>
    </div>
    <div id="user-input">
      <form id="message-form" method="POST">
        <input type="text" name="message" placeholder="Type your message...">
        <button type="submit">Send</button>
      </form>
    </div>
  </div>
</body>
</html>
